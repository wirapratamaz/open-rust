---
title: Module 2.5 - Package Management & How to structure your Rust project
description: "Package Management & How to structure your Rust project"
duration: 30 minutes
---

## External Modules

- Allows code to be compartmentalized
  - Organized source code management
  - Better collaboration
- More intuitive coding
- Quickly identify where imported code is used

Notes:
External Modules giÃºp mÃ£ nguá»“n cá»§a báº¡n Ä‘Æ°á»£c tá»• chá»©c vÃ  quáº£n lÃ½ tá»‘t hÆ¡n. DÆ°á»›i Ä‘Ã¢y lÃ  nhá»¯ng lá»£i Ã­ch cá»¥ thá»ƒ cá»§a viá»‡c sá»­ dá»¥ng cÃ¡c module bÃªn ngoÃ i:

Cho phÃ©p mÃ£ nguá»“n Ä‘Æ°á»£c phÃ¢n chia thÃ nh cÃ¡c pháº§n nhá» hÆ¡n:

Quáº£n lÃ½ mÃ£ nguá»“n má»™t cÃ¡ch tá»• chá»©c:
MÃ£ nguá»“n Ä‘Æ°á»£c phÃ¢n chia thÃ nh cÃ¡c module nhá» hÆ¡n, dá»… quáº£n lÃ½ vÃ  báº£o trÃ¬.
Há»£p tÃ¡c tá»‘t hÆ¡n:
Khi mÃ£ nguá»“n Ä‘Æ°á»£c chia thÃ nh nhiá»u pháº§n nhá», cÃ¡c thÃ nh viÃªn trong nhÃ³m cÃ³ thá»ƒ lÃ m viá»‡c trÃªn cÃ¡c module khÃ¡c nhau mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n pháº§n cá»§a nhau.
Láº­p trÃ¬nh trá»±c quan hÆ¡n:

Viá»‡c sá»­ dá»¥ng cÃ¡c module giÃºp mÃ£ nguá»“n rÃµ rÃ ng hÆ¡n, dá»… hiá»ƒu vÃ  dá»… Ä‘á»c hÆ¡n.
Nhanh chÃ³ng xÃ¡c Ä‘á»‹nh nÆ¡i sá»­ dá»¥ng mÃ£ nguá»“n nháº­p kháº©u:

Báº¡n cÃ³ thá»ƒ dá»… dÃ ng tÃ¬m ra cÃ¡c pháº§n mÃ£ nguá»“n sá»­ dá»¥ng cÃ¡c module Ä‘Æ°á»£c nháº­p kháº©u, giÃºp viá»‡c gá»¡ lá»—i vÃ  báº£o trÃ¬ trá»Ÿ nÃªn Ä‘Æ¡n giáº£n hÆ¡n.
Sá»­ dá»¥ng cÃ¡c module bÃªn ngoÃ i khÃ´ng chá»‰ giÃºp mÃ£ nguá»“n cá»§a báº¡n sáº¡ch sáº½ vÃ  dá»… quáº£n lÃ½, mÃ  cÃ²n giÃºp cáº£i thiá»‡n hiá»‡u suáº¥t lÃ m viá»‡c nhÃ³m vÃ  nÃ¢ng cao cháº¥t lÆ°á»£ng cá»§a mÃ£ nguá»“n.

---

## Module Details

- Can have any name
- Hierarchical organization
- Private by default
  - Use pub keyword to make a module public
- External modules can be a:
  - Directory
    - contain additional modules
  - File

Notes:
Chi tiáº¿t vá» Modules

CÃ³ thá»ƒ cÃ³ báº¥t ká»³ tÃªn nÃ o (Can have any name):

Báº¡n cÃ³ thá»ƒ Ä‘áº·t tÃªn cho module theo báº¥t ká»³ cÃ¡ch nÃ o mÃ  báº¡n tháº¥y phÃ¹ há»£p vá»›i quy Æ°á»›c Ä‘áº·t tÃªn cá»§a báº¡n.
Tá»• chá»©c phÃ¢n cáº¥p (Hierarchical organization):

Modules cÃ³ thá»ƒ Ä‘Æ°á»£c tá»• chá»©c theo má»™t cáº¥u trÃºc phÃ¢n cáº¥p, cho phÃ©p chia nhá» mÃ£ nguá»“n thÃ nh cÃ¡c pháº§n nhá» hÆ¡n vÃ  dá»… quáº£n lÃ½ hÆ¡n.
Máº·c Ä‘á»‹nh lÃ  riÃªng tÆ° (Private by default):

CÃ¡c module máº·c Ä‘á»‹nh lÃ  riÃªng tÆ° vÃ  chá»‰ cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn trong module Ä‘Ã³.
Sá»­ dá»¥ng tá»« khÃ³a pub Ä‘á»ƒ lÃ m cho module trá»Ÿ nÃªn cÃ´ng khai vÃ  cÃ³ thá»ƒ truy cáº­p tá»« cÃ¡c module khÃ¡c.
Modules bÃªn ngoÃ i cÃ³ thá»ƒ lÃ  (External modules can be a):

ThÆ° má»¥c (Directory):
Má»™t thÆ° má»¥c chá»©a cÃ¡c module bá»• sung khÃ¡c.
Táº­p tin (File):
Má»™t táº­p tin chá»©a mÃ£ nguá»“n cá»§a module.
Sá»­ dá»¥ng modules giÃºp báº¡n quáº£n lÃ½ mÃ£ nguá»“n má»™t cÃ¡ch cÃ³ tá»• chá»©c, dá»… dÃ ng duy trÃ¬ vÃ  nÃ¢ng cáº¥p mÃ£ nguá»“n, Ä‘á»“ng thá»i cáº£i thiá»‡n kháº£ nÄƒng lÃ m viá»‡c nhÃ³m.

---

## Directory Structure

    .
    â”œâ”€â”€ ğŸ“¦ bin
    â”‚   â””â”€â”€ ğŸ“œ app.rs
    â”‚
    â””â”€â”€ </> lib
        â”œâ”€â”€ ğŸ“ codec
        â”‚   â”œâ”€â”€ ğŸ“ audio
        â”‚   â”‚   â”œâ”€â”€ ğŸ“œ flac.rs
        â”‚   â”‚   â””â”€â”€ ğŸ“œ mp3.rs
        â”‚   â”œâ”€â”€ ğŸ“œ audio.rs
        â”‚   â””â”€â”€ ğŸ“ video
        â”‚       â”œâ”€â”€ ğŸ“œ h264.rs
        â”‚       â””â”€â”€ ğŸ“œ vp9.rs
        â”‚   â”œâ”€â”€ ğŸ“œ video.rs
        â”œâ”€â”€ ğŸ“œ codec.rs
        â”œâ”€â”€ ğŸ“œ mod.rs
        â””â”€â”€ ğŸ“œ transcode.rs
    
    # Cargo.toml
    [lib]
    name = "demo"
    path = "src/lib/mod.rs"

---

## Module Declaration

    .
    â”œâ”€â”€ ğŸ“¦ bin
    â”‚   â””â”€â”€ ğŸ“œ app.rs
    â”‚
    â””â”€â”€ </> lib
        â”œâ”€â”€ ğŸ“ codec
        â”‚   â”œâ”€â”€ ğŸ“ audio
        â”‚   â”‚   â”œâ”€â”€ ğŸ“œ flac.rs
        â”‚   â”‚   â””â”€â”€ ğŸ“œ mp3.rs
        â”‚   â”œâ”€â”€ ğŸ“œ audio.rs
        â”‚   â””â”€â”€ ğŸ“ video
        â”‚       â”œâ”€â”€ ğŸ“œ h264.rs
        â”‚       â””â”€â”€ ğŸ“œ vp9.rs
        â”‚   â”œâ”€â”€ ğŸ“œ video.rs
        â”œâ”€â”€ ğŸ“œ codec.rs
        â”œâ”€â”€ ğŸ“œ mod.rs
        â””â”€â”€ ğŸ“œ transcode.rs
    
    pub mod codec;
    pub mod transcode;

---

## Module Declaration

    .
    â”œâ”€â”€ ğŸ“¦ bin
    â”‚   â””â”€â”€ ğŸ“œ app.rs
    â”‚
    â””â”€â”€ </> lib
        â”œâ”€â”€ ğŸ“ codec
        â”‚   â”œâ”€â”€ ğŸ“ audio
        â”‚   â”‚   â”œâ”€â”€ ğŸ“œ flac.rs
        â”‚   â”‚   â””â”€â”€ ğŸ“œ mp3.rs
        â”‚   â”œâ”€â”€ ğŸ“œ audio.rs
        â”‚   â””â”€â”€ ğŸ“ video
        â”‚       â”œâ”€â”€ ğŸ“œ h264.rs
        â”‚       â””â”€â”€ ğŸ“œ vp9.rs
        â”‚   â”œâ”€â”€ ğŸ“œ video.rs
        â”œâ”€â”€ ğŸ“œ codec.rs
        â”œâ”€â”€ ğŸ“œ mod.rs
        â””â”€â”€ ğŸ“œ transcode.rs
    
    pub mod codec;
    pub mod transcode;
    mod inner {
        // ...
    }


---

## Module Declaration

    .
    â”œâ”€â”€ ğŸ“¦ bin
    â”‚   â””â”€â”€ ğŸ“œ app.rs
    â”‚
    â””â”€â”€ </> lib
        â”œâ”€â”€ ğŸ“ codec
        â”‚   â”œâ”€â”€ ğŸ“ audio
        â”‚   â”‚   â”œâ”€â”€ ğŸ“œ flac.rs
        â”‚   â”‚   â””â”€â”€ ğŸ“œ mp3.rs
        â”‚   â”œâ”€â”€ ğŸ“œ audio.rs
        â”‚   â””â”€â”€ ğŸ“ video
        â”‚       â”œâ”€â”€ ğŸ“œ h264.rs
        â”‚       â””â”€â”€ ğŸ“œ vp9.rs
        â”‚   â”œâ”€â”€ ğŸ“œ video.rs
        â”œâ”€â”€ ğŸ“œ codec.rs
        â”œâ”€â”€ ğŸ“œ mod.rs
        â””â”€â”€ ğŸ“œ transcode.rs
    
    pub mod audio;
    pub mod video;
    pub mod codec;
    pub mod transcode;


---

## Module Declaration

    .
    â”œâ”€â”€ ğŸ“¦ bin
    â”‚   â””â”€â”€ ğŸ“œ app.rs
    â”‚
    â””â”€â”€ </> lib
        â”œâ”€â”€ ğŸ“ codec
        â”‚   â”œâ”€â”€ ğŸ“ audio
        â”‚   â”‚   â”œâ”€â”€ ğŸ“œ flac.rs
        â”‚   â”‚   â””â”€â”€ ğŸ“œ mp3.rs
        â”‚   â”œâ”€â”€ ğŸ“œ audio.rs
        â”‚   â””â”€â”€ ğŸ“ video
        â”‚       â”œâ”€â”€ ğŸ“œ h264.rs
        â”‚       â””â”€â”€ ğŸ“œ vp9.rs
        â”‚   â”œâ”€â”€ ğŸ“œ video.rs
        â”œâ”€â”€ ğŸ“œ codec.rs
        â”œâ”€â”€ ğŸ“œ mod.rs
        â””â”€â”€ ğŸ“œ transcode.rs
    
    pub mod audio;
    pub mod video;
    pub mod codec;
    pub mod transcode;


---

## Module Declaration

    .
    â”œâ”€â”€ ğŸ“¦ bin
    â”‚   â””â”€â”€ ğŸ“œ app.rs
    â”‚
    â””â”€â”€ </> lib
        â”œâ”€â”€ ğŸ“ codec
        â”‚   â”œâ”€â”€ ğŸ“ audio
        â”‚   â”‚   â”œâ”€â”€ ğŸ“œ flac.rs
        â”‚   â”‚   â””â”€â”€ ğŸ“œ mp3.rs
        â”‚   â”œâ”€â”€ ğŸ“œ audio.rs
        â”‚   â””â”€â”€ ğŸ“ video
        â”‚       â”œâ”€â”€ ğŸ“œ h264.rs
        â”‚       â””â”€â”€ ğŸ“œ vp9.rs
        â”‚   â”œâ”€â”€ ğŸ“œ video.rs
        â”œâ”€â”€ ğŸ“œ codec.rs
        â”œâ”€â”€ ğŸ“œ mod.rs
        â””â”€â”€ ğŸ“œ transcode.rs
    
    pub mod h264;
    pub mod vp9;
    pub mod audio;
    pub mod video;
    pub mod codec;
    pub mod transcode;


---

## Module Declaration

    .
    â”œâ”€â”€ ğŸ“¦ bin
    â”‚   â””â”€â”€ ğŸ“œ app.rs
    â”‚
    â””â”€â”€ </> lib
        â”œâ”€â”€ ğŸ“ codec
        â”‚   â”œâ”€â”€ ğŸ“ audio
        â”‚   â”‚   â”œâ”€â”€ ğŸ“œ flac.rs
        â”‚   â”‚   â””â”€â”€ ğŸ“œ mp3.rs
        â”‚   â”œâ”€â”€ ğŸ“œ audio.rs
        â”‚   â””â”€â”€ ğŸ“ video
        â”‚       â”œâ”€â”€ ğŸ“œ h264.rs
        â”‚       â””â”€â”€ ğŸ“œ vp9.rs
        â”‚   â”œâ”€â”€ ğŸ“œ video.rs
        â”œâ”€â”€ ğŸ“œ codec.rs
        â”œâ”€â”€ ğŸ“œ mod.rs
        â””â”€â”€ ğŸ“œ transcode.rs
    
    pub mod flac;
    pub mod mp3;
    pub mod h264;
    pub mod vp9;
    pub mod audio;
    pub mod video;
    pub mod codec;
    pub mod transcode;


---

## Accessing Functionality

    .
    â”œâ”€â”€ ğŸ“¦ bin
    â”‚   â””â”€â”€ ğŸ“œ app.rs
    â”‚
    â””â”€â”€ </> lib
        â”œâ”€â”€ ğŸ“ codec
        â”‚   â”œâ”€â”€ ğŸ“ audio
        â”‚   â”‚   â”œâ”€â”€ ğŸ“œ flac.rs
        â”‚   â”‚   â””â”€â”€ ğŸ“œ mp3.rs
        â”‚   â”œâ”€â”€ ğŸ“œ audio.rs
        â”‚   â””â”€â”€ ğŸ“ video
        â”‚       â”œâ”€â”€ ğŸ“œ h264.rs
        â”‚       â””â”€â”€ ğŸ“œ vp9.rs
        â”‚   â”œâ”€â”€ ğŸ“œ video.rs
        â”œâ”€â”€ ğŸ“œ codec.rs
        â”œâ”€â”€ ğŸ“œ mod.rs
        â””â”€â”€ ğŸ“œ transcode.rs
    
    // flac.rs
    use super::mp3;
    pub fn sample() {
        mp3::some_fn();
        super::mp3::some_fn();
        crate::codec::audio::mp3::some_fn();
        super::super::video::h264::some_fn();
    }

---

## Module Aliases

    .
    â”œâ”€â”€ ğŸ“¦ bin
    â”‚   â””â”€â”€ ğŸ“œ app.rs
    â”‚
    â””â”€â”€ </> lib
        â”œâ”€â”€ ğŸ“ codec
        â”‚   â”œâ”€â”€ ğŸ“ audio
        â”‚   â”‚   â”œâ”€â”€ ğŸ“œ flac.rs
        â”‚   â”‚   â””â”€â”€ ğŸ“œ mp3.rs
        â”‚   â”œâ”€â”€ ğŸ“œ audio.rs
        â”‚   â””â”€â”€ ğŸ“ video
        â”‚       â”œâ”€â”€ ğŸ“œ h264.rs
        â”‚       â””â”€â”€ ğŸ“œ vp9.rs
        â”‚   â”œâ”€â”€ ğŸ“œ video.rs
        â”œâ”€â”€ ğŸ“œ codec.rs
        â”œâ”€â”€ ğŸ“œ mod.rs
        â””â”€â”€ ğŸ“œ transcode.rs
    
    // flac.rs
    pub fn sample() {
        use crate::transcode as tc;
        tc::some_fn();
    }

---

## Re-exporting Modules

    .
    â”œâ”€â”€ ğŸ“¦ bin
    â”‚   â””â”€â”€ ğŸ“œ app.rs
    â”‚
    â””â”€â”€ </> lib
        â”œâ”€â”€ ğŸ“ codec
        â”‚   â”œâ”€â”€ ğŸ“ audio
        â”‚   â”‚   â”œâ”€â”€ ğŸ“œ flac.rs
        â”‚   â”‚   â””â”€â”€ ğŸ“œ mp3.rs
        â”‚   â”œâ”€â”€ ğŸ“œ audio.rs
        â”‚   â””â”€â”€ ğŸ“ video
        â”‚       â”œâ”€â”€ ğŸ“œ h264.rs
        â”‚       â””â”€â”€ ğŸ“œ vp9.rs
        â”‚   â”œâ”€â”€ ğŸ“œ video.rs
        â”œâ”€â”€ ğŸ“œ codec.rs
        â”œâ”€â”€ ğŸ“œ mod.rs
        â””â”€â”€ ğŸ“œ transcode.rs
    
    use crate::codec::mp3;
    
    pub mod audio;
    pub mod video;
    pub use audio::mp3;


---

## Recap

- Modules are organized hierarchically
  - Use super to go up one level
  - Use crate to start from the top
- The as keyword can be used to create an alias for a module
- The mod keyword is used to declare a module
  - No curly braces for external modules
- Modules can be re-exported with the use keyword
- pub indicates the module may be accessed from anywhere
  - Omitting pub restricts access to only the containing module and sub-modules

Notes:
TÃ³m táº¯t vá» Modules

Modules Ä‘Æ°á»£c tá»• chá»©c theo cáº¥u trÃºc phÃ¢n cáº¥p (Modules are organized hierarchically):

Sá»­ dá»¥ng super Ä‘á»ƒ Ä‘i lÃªn má»™t cáº¥p (Use super to go up one level):
super Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tham chiáº¿u Ä‘áº¿n module cha cá»§a module hiá»‡n táº¡i.
Sá»­ dá»¥ng crate Ä‘á»ƒ báº¯t Ä‘áº§u tá»« Ä‘áº§u (Use crate to start from the top):
crate Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tham chiáº¿u tá»« gá»‘c cá»§a crate, thÆ°á»ng lÃ  Ä‘iá»ƒm báº¯t Ä‘áº§u cá»§a dá»± Ã¡n.
Tá»« khÃ³a as cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡o má»™t bÃ­ danh cho module (The as keyword can be used to create an alias for a module):

VÃ­ dá»¥: use std::io::Result as IoResult;
Tá»« khÃ³a mod Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ khai bÃ¡o má»™t module (The mod keyword is used to declare a module):

KhÃ´ng sá»­ dá»¥ng dáº¥u ngoáº·c nhá»n cho cÃ¡c module bÃªn ngoÃ i (No curly braces for external modules):
VÃ­ dá»¥: mod my_module; thay vÃ¬ mod my_module { } cho cÃ¡c module náº±m trong file khÃ¡c.
Modules cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¡i xuáº¥t kháº©u báº±ng tá»« khÃ³a use (Modules can be re-exported with the use keyword):

VÃ­ dá»¥: pub use crate::my_module; giÃºp module cÃ³ thá»ƒ Ä‘Æ°á»£c truy cáº­p tá»« bÃªn ngoÃ i.
Tá»« khÃ³a pub cho biáº¿t module cÃ³ thá»ƒ Ä‘Æ°á»£c truy cáº­p tá»« báº¥t ká»³ Ä‘Ã¢u (pub indicates the module may be accessed from anywhere):

Bá» qua pub giá»›i háº¡n quyá»n truy cáº­p chá»‰ trong module chá»©a vÃ  cÃ¡c sub-modules (Omitting pub restricts access to only the containing module and sub-modules):
Náº¿u khÃ´ng sá»­ dá»¥ng pub, module sáº½ chá»‰ cÃ³ thá»ƒ truy cáº­p tá»« trong module Ä‘Ã³ vÃ  cÃ¡c module con cá»§a nÃ³.
Hy vá»ng ráº±ng pháº§n tÃ³m táº¯t nÃ y Ä‘Ã£ giÃºp báº¡n hiá»ƒu rÃµ hÆ¡n vá» cÃ¡ch tá»• chá»©c vÃ  sá»­ dá»¥ng modules trong Rust.